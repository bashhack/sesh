⏺ Manual QA Steps for Testing Sesh CLI's Plugin Architecture

  1. Basic Provider Operations

  1. List available providers
  sesh --list-services
    - ✓ Verify that both aws and totp providers are listed with descriptions
  2. Show usage
  sesh --help
    - ✓ Verify that all new options (--service, --clip, --list, --delete) are shown
    - ✓ Verify that provider-specific options are documented

  2. AWS Provider Testing

  1. Setup AWS provider
  sesh --service aws --setup
    - ✓ Enter valid AWS profile name (or leave blank for default)
    - ✓ Verify setup completes successfully
  2. Generate AWS credentials
  sesh
    - ✓ Verify credentials are generated correctly
    - ✓ Check that environment variables are correctly displayed
  3. Test with specific profile
  sesh --profile your-profile
    - ✓ Verify credentials are generated for the specified profile
  4. Test clipboard integration
  sesh --clip
    - ✓ Verify that the session token is copied to clipboard
    - ✓ Check that proper confirmation is displayed
  5. List AWS entries
  sesh --list
    - ✓ Verify that all configured AWS profiles are listed
    - ✓ Check that entry IDs are properly formatted

  3. TOTP Provider Testing

  1. Setup TOTP provider for a web service
  sesh --service totp --setup
    - ✓ Enter a service name (e.g., "github")
    - ✓ Leave profile blank or enter a profile name
    - ✓ Enter TOTP secret when prompted
    - ✓ Verify setup completes successfully
  2. Generate TOTP code
  sesh --service totp --service-name github
    - ✓ Verify that a valid TOTP code is generated
    - ✓ Check that next code and expiry info is displayed
  3. Copy TOTP code to clipboard
  sesh --service totp --service-name github --clip
    - ✓ Verify code is copied to clipboard
    - ✓ Check that confirmation is displayed
  4. Setup multiple accounts for same service
  sesh --service totp --setup
    - ✓ Use the same service name as before (e.g., "github")
    - ✓ Enter a profile name (e.g., "work")
    - ✓ Enter TOTP secret when prompted
    - ✓ Verify setup completes successfully
  5. Generate TOTP code for specific profile
  sesh --service totp --service-name github --profile work
    - ✓ Verify correct TOTP code is generated
    - ✓ Check that profile is shown in the output
  6. List TOTP entries
  sesh --service totp --list
    - ✓ Verify that all configured TOTP services are listed
    - ✓ Check that profiles are correctly displayed with their service names

  4. Entry Management Testing

  1. List all entries
  sesh --service aws --list
  sesh --service totp --list
    - ✓ Verify entries show correct information with IDs
  2. Delete an entry
  # Copy an entry ID from the --list output
  sesh --service totp --delete "sesh-totp-github:your-username"
    - ✓ Verify entry is successfully deleted
    - ✓ Run list again to confirm it's gone
  3. Delete an AWS entry
  # Copy an entry ID from the --list output
  sesh --service aws --delete "sesh-mfa:your-username"
    - ✓ Verify entry is successfully deleted
    - ✓ Run list again to confirm it's gone
    - ✓ Verify that both the secret and MFA serial entries are removed

  5. Edge Case Testing

  1. Invalid service name
  sesh --service nonexistent
    - ✓ Verify appropriate error message is shown
  2. Missing required arguments
  sesh --service totp
    - ✓ Verify error about missing service name is shown
  3. Invalid entry ID format
  sesh --service aws --delete "invalid-id-format"
    - ✓ Verify proper error message about ID format is displayed
  4. Delete non-existent entry
  sesh --service totp --delete "sesh-totp-nonexistent:your-username"
    - ✓ Verify appropriate error message is shownManual Qa
